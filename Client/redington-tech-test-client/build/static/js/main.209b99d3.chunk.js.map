{"version":3,"sources":["app-config.js","services/calculation-service.js","components/app-header.js","components/result-box.js","components/form-errors.js","App.js","index.js"],"names":["CONFIG","CalculationService","calculateProbability","calcType","A","B","url","fetch","method","headers","body","JSON","stringify","then","response","json","responseJson","catch","error","console","AppHeader","props","className","ResultBox","this","value","React","Component","FormErrors","formErrors","Object","keys","map","fieldName","i","length","key","App","handleSubmission","event","preventDefault","service","state","setState","calcResult","handleChange","nam","target","name","val","validateField","aIsValid","bIsValid","formValid","fieldValidationErrors","message","probabilityIsValid","validateForm","onSubmit","htmlFor","type","onChange","disabled","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.209b99d3.chunk.js","sourcesContent":["// By default I am pointing this at the dev instance\r\n// To change environment simply comment out which path you want.\r\n// If I had more time I'd have this read from environment config but this will do for the tech test\r\n\r\n// local\r\n// const api_root = 'http://localhost:5000/api/probability-calculations';\r\n\r\n// dev\r\nconst api_root = 'https://aw-redington.azurewebsites.net/api/probability-calculations';\r\n\r\nexport const CONFIG = {\r\n    API_ROOT: api_root\r\n};","import { CONFIG } from '../app-config';\r\n\r\nexport class CalculationService {\r\n  calculateProbability = (calcType, A, B) => {\r\n\r\n    const url = calcType === \"combine\" ? `${CONFIG.API_ROOT}/combine` : `${CONFIG.API_ROOT}/either`;\r\n\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        \"A\": A,\r\n        \"B\": B\r\n      }),\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then((responseJson) => {\r\n        return responseJson;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport function AppHeader(props) {\r\n    return (<div className=\"pb-2 mt-4 mb-2 border-bottom\">\r\n        <h1>Redington Tech Test</h1>\r\n    </div>);\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport class ResultBox extends React.Component {\r\n    render() {\r\n        return (<div className=\"card .bg-info\">\r\n            <div className=\"card-header\">\r\n                Result\r\n        </div>\r\n            <div className=\"card-body\">\r\n                {this.props.value}\r\n            </div>\r\n        </div>);\r\n    };\r\n}","import React from 'react';\r\n\r\nexport const FormErrors = ({ formErrors }) =>\r\n    <div>\r\n        {Object.keys(formErrors).map((fieldName, i) => {\r\n            if (formErrors[fieldName].length > 0) {\r\n                return (\r\n                    <div key={i} className='alert alert-danger'>\r\n                        <p key={i}>{fieldName} {formErrors[fieldName]}</p>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return '';\r\n            }\r\n        })}\r\n    </div>","import React from 'react';\r\n\r\nimport { CalculationService } from './services/calculation-service';\r\nimport { AppHeader } from './components/app-header';\r\nimport { ResultBox } from './components/result-box';\r\nimport { FormErrors } from './components/form-errors';\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.service = new CalculationService();\r\n    this.state = {\r\n      A: 0,\r\n      B: 0,\r\n      calcResult: 0,\r\n      calcType: \"combine\",\r\n      formErrors: { A: '', B: '' },\r\n      aIsValid: true,\r\n      bIsValid: true,\r\n      formValid: true\r\n    };\r\n  }\r\n\r\n  handleSubmission = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.service\r\n      .calculateProbability(this.state.calcType, this.state.A, this.state.B)\r\n      .then(response => {\r\n        this.setState({\r\n          calcResult: response\r\n        });\r\n      })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n\r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n\r\n    this.setState({ [nam]: val }, () => { this.validateField(nam, val) });\r\n  }\r\n\r\n  probabilityIsValid(value) {\r\n    return value >= 0 && value <= 1;\r\n  }\r\n\r\n  validateField(fieldName, value) {\r\n    let fieldValidationErrors = this.state.formErrors;\r\n    let aIsValid = this.state.aIsValid;\r\n    let bIsValid = this.state.bIsValid;\r\n\r\n    const message = \" => must be between 0 and 1\";\r\n\r\n    switch (fieldName) {\r\n      case 'A':\r\n        aIsValid = this.probabilityIsValid(value);\r\n        fieldValidationErrors.A = aIsValid ? '' : message;\r\n        break;\r\n      case 'B':\r\n        bIsValid = this.probabilityIsValid(value);\r\n        fieldValidationErrors.B = bIsValid ? '' : message;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({\r\n      formErrors: fieldValidationErrors,\r\n      aIsValid: aIsValid,\r\n      bIsValid: bIsValid\r\n    }, this.validateForm);\r\n  }\r\n\r\n  validateForm() {\r\n    this.setState({ formValid: this.state.aIsValid && this.state.bIsValid });\r\n  }\r\n\r\n  errorClass(error) {\r\n    return (error.length === 0 ? '' : 'alert aelrt-danger');\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"container\">\r\n\r\n      <AppHeader></AppHeader>\r\n\r\n      <div className=\"card card-primary\">\r\n        <div className=\"card-header\">\r\n          <h3>\r\n            Probability Calculator\r\n          </h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 col-xs-12\">\r\n              <FormErrors formErrors={this.state.formErrors} />\r\n              <form onSubmit={this.handleSubmission}>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor='A'>Input A</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"A\"\r\n                    className=\"form-control\"\r\n                    value={this.state.A}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor='B'>Input B</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"B\"\r\n                    className=\"form-control\"\r\n                    value={this.state.B}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"calcType\">Calculation Type</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"calcType\"\r\n                    value={this.state.calcType}\r\n                    onChange={this.handleChange}>\r\n                    <option value=\"combine\">Combine</option>\r\n                    <option value=\"either\">Either</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <button\r\n                    type='submit'\r\n                    className=\"btn btn-primary\"\r\n                    disabled={!this.state.formValid}>\r\n                    Submit\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"col-md-6 col-xs-12\">\r\n              <ResultBox value={this.state.calcResult}></ResultBox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  };\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}